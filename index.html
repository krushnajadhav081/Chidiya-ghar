<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Together Again â€” A Friendship Memory Wall</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet"/>

  <style>
    :root {
      --pastel-blue: #A2D2FF;
      --pastel-pink: #FFC7D8;
      --muted: #6b6b6b;
    }
    body {
      margin: 0;
      font-family: 'Poppins', system-ui, sans-serif;
      background: linear-gradient(135deg, var(--pastel-blue), var(--pastel-pink));
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }

    /* --- Floating hearts container --- */
    #hearts { position: fixed; inset: 0; pointer-events: none; z-index: 0; }

    /* --- Main --- */
    #main { position: relative; z-index: 10; max-width: 1300px; margin: 48px auto; padding: 12px; text-align: center; }
    .hero-title { background: rgba(255,255,255,0.85); padding: 12px 18px; border-radius: 12px; font-weight: 800; font-size: 40px; color: #111; box-shadow: 0 8px 24px rgba(0,0,0,0.12); }
    .subtitle { color: var(--muted); margin-bottom: 18px; }

    .grid { display: grid; gap: 12px; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
    .card { background: rgba(255,255,255,0.95); border-radius: 12px; overflow: hidden; cursor: zoom-in; box-shadow: 0 10px 30px rgba(5,5,10,0.08); transition: transform .3s ease, box-shadow .3s ease; }
    .card:hover { transform: translateY(-6px); box-shadow: 0 20px 40px rgba(5,5,10,0.15); }
    .card img { width: 100%; height: 220px; object-fit: cover; display: block; }
    .meta { padding: 10px 12px; text-align: left; }
    .meta h3 { margin: 0; font-size: 16px; font-weight: 700; color: #111; }
    .meta p { margin: 6px 0 0; color: #444; font-size: 14px; }
    .names { color: #1766d6; font-style: italic; font-size: 13px; margin-top: 6px; }

    /* --- Overlay popups --- */
    .overlay { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.6); backdrop-filter: blur(3px); z-index: 50; }
    .popup-card { background: white; border-radius: 16px; padding: 28px; text-align: center; max-width: 400px; width: 90%; }
    .popup-title { font-size: 24px; font-weight: 700; color: #ff5b86; }
    .popup-sub { color: #333; margin-top: 10px; font-size: 16px; }
    .btn { background: linear-gradient(90deg, var(--pastel-blue), var(--pastel-pink)); color: #fff; font-weight: 700; padding: 10px 18px; border-radius: 999px; border: none; cursor: pointer; }

    /* --- Viewer --- */
    #viewer { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.75); opacity: 0; pointer-events: none; transition: opacity .3s ease; z-index: 100; }
    #viewer.show { opacity: 1; pointer-events: auto; }
    .viewer-box { display: flex; flex-direction: column; background: #fff; border-radius: 14px; max-width: 90%; max-height: 90vh; overflow: hidden; box-shadow: 0 24px 60px rgba(0,0,0,0.3); }
    .viewer-box img { width: 100%; object-fit: contain; max-height: 70vh; }
    .viewer-info { padding: 16px; text-align: center; }
    .close-btn { position: absolute; top: 16px; right: 16px; background: #ff5b86; color: #fff; border: none; border-radius: 999px; padding: 8px 12px; cursor: pointer; }
  </style>
</head>

<body>
  <canvas id="hearts"></canvas>

  <!-- Password overlay -->
  <div id="passwordOverlay" class="overlay">
    <div class="popup-card">
      <h2 class="popup-title">Enter Password</h2>
      <p class="popup-sub">This page is private â€” please enter the group password.</p>
      <input id="pwd" type="password" placeholder="Password"
             style="width:100%;padding:12px;border-radius:10px;border:1px solid #ddd;margin-top:10px;">
      <button id="pwdBtn" class="btn" style="margin-top:12px;">Unlock</button>
      <p id="pwdErr" style="display:none;color:#c0392b;margin-top:8px;">Incorrect password</p>
    </div>
  </div>

  <!-- Intro -->
  <div id="introOverlay" class="overlay hidden">
    <div class="popup-card">
      <h2 class="popup-title">ðŸŒˆ Forget the Past â€” Build a New Future</h2>
      <p class="popup-sub">Our friendship is stronger than any mistake. Click continue to relive our best memories.</p>
      <button id="continueBtn" class="btn" style="margin-top:16px;">Continue ðŸŒŸ</button>
    </div>
  </div>

  <!-- Main -->
  <main id="main" class="hidden">
    <div class="hero-title">Together Again</div>
    <div class="subtitle">Every photo is a story. Click any memory to relive it.</div>
    <div id="photoGrid" class="grid"></div>
  </main>

  <!-- Viewer -->
  <div id="viewer">
    <div class="viewer-box">
      <button id="closeViewer" class="close-btn">âœ•</button>
      <img id="viewerImg" src="" alt="">
      <div class="viewer-info">
        <h3 id="viewerTitle"></h3>
        <p id="viewerCaption" style="color:#555"></p>
        <div id="viewerFriends" style="font-size:14px;color:#ff5b86;font-weight:600;"></div>
      </div>
    </div>
  </div>

<script>
const PASSWORDS = ["parth", "krushna", "yashraj","prashant","samruddhi","laxmi","grishma","shubham","vivek","roshani","soheet"];
const pwdInput = document.getElementById('pwd');
const pwdBtn = document.getElementById('pwdBtn');
const pwdErr = document.getElementById('pwdErr');
const overlays = { password: document.getElementById('passwordOverlay'), intro: document.getElementById('introOverlay') };
const main = document.getElementById('main');
const continueBtn = document.getElementById('continueBtn');
const photoGrid = document.getElementById('photoGrid');
const viewer = document.getElementById('viewer');
const viewerImg = document.getElementById('viewerImg');
const viewerTitle = document.getElementById('viewerTitle');
const viewerCaption = document.getElementById('viewerCaption');
const viewerFriends = document.getElementById('viewerFriends');
const closeViewer = document.getElementById('closeViewer');

// Password check
pwdBtn.onclick = () => {
  const val = pwdInput.value.trim().toLowerCase();
  if (PASSWORDS.includes(val)) {
    overlays.password.style.display = 'none';
    overlays.intro.classList.remove('hidden');
  } else {
    pwdErr.style.display = 'block';
    setTimeout(() => pwdErr.style.display = 'none', 2000);
  }
};

continueBtn.onclick = () => {
  overlays.intro.classList.add('hidden');
  main.classList.remove('hidden');
  setTimeout(initGrid, 200);
};

// --- Create grid ---
function initGrid() {
  const total = 30; // reduce count for smoother load
  for (let i = 1; i <= total; i++) {
    const card = document.createElement('div');
    card.className = 'card';
    const img = document.createElement('img');
    img.src = `images/image${String(i).padStart(3, '0')}.jpg`;
    img.alt = `Memory ${i}`;
    const meta = document.createElement('div');
    meta.className = 'meta';
    meta.innerHTML = `<h3>Memory ${i}</h3><p>One of our amazing moments together.</p><div class="names">Friends: Group</div>`;
    card.append(img, meta);
    card.onclick = () => openViewer(img.src, `Memory ${i}`, 'One of our amazing moments together.', 'Friends Group');
    photoGrid.append(card);
  }
}

function openViewer(src, title, caption, friends) {
  viewerImg.src = src;
  viewerTitle.textContent = title;
  viewerCaption.textContent = caption;
  viewerFriends.textContent = friends;
  viewer.classList.add('show');
}
closeViewer.onclick = () => viewer.classList.remove('show');
viewer.onclick = e => { if (e.target === viewer) viewer.classList.remove('show'); };
document.addEventListener('keydown', e => { if (e.key === 'Escape') viewer.classList.remove('show'); });

// --- Floating hearts with Canvas (super smooth) ---
const canvas = document.getElementById('hearts');
const ctx = canvas.getContext('2d');
let hearts = [];
function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

for (let i = 0; i < 8; i++) {
  hearts.push({
    x: Math.random() * canvas.width,
    y: Math.random() * canvas.height,
    size: 10 + Math.random() * 30,
    speed: 0.3 + Math.random() * 0.6,
    color: Math.random() > 0.5 ? '#FFC7D8' : '#A2D2FF',
  });
}

function drawHeart(x, y, size, color) {
  ctx.fillStyle = color;
  ctx.beginPath();
  const topCurveHeight = size * 0.3;
  ctx.moveTo(x, y + topCurveHeight);
  ctx.bezierCurveTo(x, y, x - size / 2, y, x - size / 2, y + topCurveHeight);
  ctx.bezierCurveTo(x - size / 2, y + (size + topCurveHeight) / 2, x, y + size, x, y + size);
  ctx.bezierCurveTo(x, y + size, x + size / 2, y + (size + topCurveHeight) / 2, x + size / 2, y + topCurveHeight);
  ctx.bezierCurveTo(x + size / 2, y, x, y, x, y + topCurveHeight);
  ctx.closePath();
  ctx.fill();
}

function animateHearts() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  for (let h of hearts) {
    drawHeart(h.x, h.y, h.size, h.color);
    h.y -= h.speed;
    if (h.y < -h.size) {
      h.y = canvas.height + h.size;
      h.x = Math.random() * canvas.width;
    }
  }
  requestAnimationFrame(animateHearts);
}
animateHearts();
</script>
</body>
</html>
